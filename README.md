# TShockCheckBag

#### 介绍
定时检查玩家背包，并封禁对应玩家。

#### 指令
```
/checkbag list，查看封禁清单（仅生效）
/checkbag all，查看封禁清单（含失效）
/checkbag reload，重载配置
```

#### 权限
```
checkbag
```

#### 解除封禁
本插件调用了tshock自带的封禁功能，输入指令`/checkbag list`查询因违规而封禁的记录
```shell
: /checkbag list
Server执行了/checkbag list。
生效的封禁 (1/1)：
hf, 原因：拥有超进度的天顶剑, 截止：2023-21-23 11:41:24, 解封：/ban del 4
```

输入指令`/ban del 4`让此条封禁记录失效。



#### 配置文件
位于 `./tshock/CheckBag/config.json`，若不存在则会自动创建。

示例：
```json
{
  "检测间隔": 300,
  "封禁时长": 60,
  "违规次数": 3,
  "全时期": [
    {
      "id": 74,
      "数量": 999,
      "名称": "铂金币"
    }
  ],
  "骷髅王前": [
    {
      "id": 29,
      "数量": 20,
      "名称": "生命水晶"
    }
  ],
  "肉前": [],
  "一王前": [
    {
      "id": 1291,
      "数量": 2,
      "名称": "生命果"
    }
  ],
  "三王前": [],
  "猪鲨前": [],
  "花前": [],
  "石前": []
}
```
`检测间隔`的单位是秒。

`封禁时长`的单位是分钟。

`违规次数`表示检测到x次违规物品时，即封禁该玩家。

<br>

举例：检测间隔为60秒（5分钟），违规次数为3，封禁时长为60分钟。首次检测到违规物品时，会发消息提示该玩家销毁/减少该物品。60秒后执行第2次检查，仍有违规物品，继续发消息提示。再过60秒执行第3次检查，还有违规物品，则踢出该玩家，全服广播封禁原因，并封禁该玩家60分钟。